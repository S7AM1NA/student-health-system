### **项目总体方案**

我们将采用业界主流的前后端分离思想，构建一个基于Web的系统。这不仅能满足桌面端访问的需求，也为未来扩展到移动端（如微信小程序、App）提供了天然的API支持，具有最佳的扩展性。

#### **1. 技术选型 (Technology Stack)**

*   **后端框架：Django**
    *   **理由**：Django功能强大且“开箱即用”。其自带的ORM（对象关系映射）可以让我们用Python代码轻松管理数据库；内置的用户认证系统完美解决了用户注册登录的需求；强大的后台管理（Admin）功能可以方便我们快速添加和管理食物热量表；清晰的MVT（Model-View-Template）架构适合团队协作，分工明确。

*   **前端技术：HTML + CSS + JavaScript**
    *   **理由**：对于必做任务的界面要求，这三者组合已经足够。我们将使用一个现代CSS框架（如 **Bootstrap**）来快速构建美观、响应式的界面，减少UI开发工作量。

*   **数据可视化库：Chart.js**
    *   **理由**：轻量级、简单易用且图表类型丰富。非常适合用来制作周度睡眠数据统计图等可视化图表。

*   **数据库：SQLite (开发) / PostgreSQL (生产)**
    *   **理由**：开发阶段使用Django默认的SQLite，无需配置，启动迅速。项目最终部署时可无缝切换到更稳定、性能更强的PostgreSQL数据库。

*   **协作工具：Git & GitHub**
    *   **理由**：代码版本控制和团队协作的基石，方便代码审查、合并与管理。

#### **2. 团队分工 (4人协作)**

为了最大化效率，我们将团队成员划分为前端和后端两个方向，并明确各自的职责。

| 角色                 | 核心职责                       | 负责的必做任务                                               | 对选做任务的扩展贡献                                         |
| :------------------- | :----------------------------- | :----------------------------------------------------------- | :----------------------------------------------------------- |
| **成员A (后端组长)** | **项目架构、数据库与用户模块** | 1. 搭建Django项目，配置环境，建立Git仓库。<br>2. 设计数据库模型 (用户、睡眠、运动、饮食、食物库)。<br>3. 实现完整的用户系统：注册、登录、注销、个人档案管理。 | - 设计好友关系、健康目标等新功能的数据库模型。<br>- 构建API授权机制，为未来App或好友功能做准备。 |
| **成员B (后端核心)** | **核心业务逻辑与数据处理**     | 1. 实现睡眠、运动、饮食三大模块的数据**增删改查 (CRUD)** 接口。<br>2. 实现周度健康报告的**数据聚合与分析逻辑**。<br>3. 负责食物热量参考表的**数据录入与管理**。 | - 对接开源营养数据库，实现智能饮食推荐。<br>- 开发异常数据预警的后端判断逻辑。<br>- 接入数据分析库(如Pandas, Scikit-learn)进行高级预测。 |
| **成员C (前端组长)** | **UI/UX设计与核心页面开发**    | 1. 负责整体UI风格设计，使用Bootstrap搭建响应式布局。<br>2. 开发用户**注册、登录、个人档案**等页面的前端。<br>3. 开发三大模块的**数据录入表单**页面，确保操作便捷。 | - 设计和实现健康目标设定、好友列表与动态评论的UI界面。<br>- 确保新功能界面与整体风格统一。 |
| **成员D (前端核心)** | **数据可视化与展示**           | 1. 开发系统**主看板 (Dashboard)**，展示用户当日健康数据概览。<br>2. 使用Chart.js实现**周度睡眠数据的可视化图表**。<br>3. 开发历史数据记录的展示页面（列表、详情）。<br>4. 将后端生成的健康报告**美化并呈现**给用户。 | - 开发目标完成进度的可视化组件（如进度条）。<br>- 实现异常预警的前端弹窗提醒功能。<br>- 开发好友健康动态的可视化展示页面。 |

---

### **项目实施计划 (分阶段进行)**

建议将项目分为四个主要阶段，每个阶段都有明确的目标。

#### **第一阶段：项目启动与基础搭建 (预计1周)**

*   **目标**：让项目跑起来，完成用户系统的核心功能。
*   **成员A**：初始化Django项目和Git仓库，设计并创建所有数据库模型 (Models)，完成用户注册和登录的后端逻辑。
*   **成员C**：搭建项目基本HTML模板（包括导航栏、页脚），完成注册、登录和数据录入表单页面的静态布局。
*   **团队协作**：共同商定数据库字段细节和前后端数据交互的基本格式（API约定）。

#### **第二阶段：核心功能模块开发 (预计2周)**

*   **目标**：完成三大核心模块的数据录入与存储。
*   **成员B**：编写睡眠、运动、饮食记录的增删改查API接口。通过Django Admin后台录入一批常见的食物及其热量数据。
*   **成员C**：将静态的数据录入页面与后端API对接，实现用户可以提交睡眠、运动、饮食记录。
*   **成员D**：开发主看板，为用户提供直观的数据概览。
*   **成员A**：协助B进行接口调试。

#### **第三阶段：数据分析与可视化 (预计1.5周)**

*   **目标**：让用户能看到自己的数据统计和分析报告。
*   **成员B**：开发周度健康报告的生成逻辑，聚合用户一周的数据，并根据简单规则生成建议。
*   **成员D**：调用后端接口获取数据，使用Chart.js在前端生成周度睡眠图表，并以清晰的格式展示历史记录和周度健康报告。
*   **团队协作**：前后端联调，确保数据展示的准确性和美观性。

#### **第四阶段：整合测试与优化 (预计0.5周)**

*   **目标**：交付一个稳定、完整的系统。
*   **全体成员**：
    1.  **交叉测试**：互相测试对方负责的模块，模拟真实用户操作流程。
    2.  **Bug修复**：集中解决测试中发现的问题。
    3.  **UI优化**：根据使用体验，微调界面布局、色彩和交互，提升用户体验。
    4.  **文档撰写**：完成项目说明文档和使用手册。

---

### **对选做任务的扩展性支持**

本方案在设计之初就为选做任务铺好了道路：

1.  **健康目标 (选做1)**：
    *   **后端 (成员A)**：只需在数据库中增加一个`Goal`模型，与`User`关联。
    *   **前端 (成员C/D)**：增加一个目标设定页面和用于展示进度的UI组件即可。

2.  **智能饮食推荐 (选做2)**：
    *   **后端 (成员B)**：可以独立封装一个服务，根据用户的运动数据调用外部营养数据库API，现有架构无需大改。

3.  **异常预警 (选做3)**：
    *   **后端 (成员B)**：可以编写一个定时的检查任务（例如每天凌晨检查），判断用户近期数据是否异常。
    *   **前端 (成员D)**：只需增加一个全局的通知API接口，当用户登录时，前端请求该接口，若有预警信息则弹窗显示。

4.  **高级数据分析 (选做4)**：
    *   **后端 (成员B)**：Django可以轻松集成`Pandas`、`Scikit-learn`等强大的Python数据分析库。可以在现有数据处理逻辑旁，新增一个分析模块，对历史数据进行线性回归等预测。

5.  **好友社交 (选做5)**：
    *   **后端 (成员A/B)**：需要增加一个`Friendship`模型来表示好友关系和授权状态。Django的ORM可以轻松处理这种多对多关系。之后开发查看好友动态的API接口。
    *   **前端 (成员C/D)**：增加好友列表、好友动态查看页面。

6.  **跨平台扩展 (选做6)**：
    *   **核心优势**：由于我们采用了Web后端，未来若要开发App或小程序，只需将现有的业务逻辑封装成RESTful API（推荐使用 **Django REST Framework** 插件）。后端代码几乎可以完全复用，只需额外开发一套新的前端即可，这是本方案最大的扩展性优势。
